---
title: "Análise de grupos de deputados por autoria e subscrição de proposições"
output: html_notebook
---

O ponto de partida foi o arquivo `Autores das Proposições por ano de apresentação` de 2019 disponível na nova versão da [Dados Abertos da Câmara](https://dadosabertos.camara.leg.br/swagger/api.html#staticfile). 

**Observação:** Esta versão da Dados Abertos considera como proposições proposições em si, requerimentos, pareceres, substitutivos, emendas, etc., então o número total de autorias conjuntas corresponde a esse conjunto e não somente à criação de proposições em si. É importante também ressaltar que os dados abertos considera autor qualquer deputado que tenha escrito ou subscrito uma proposição.

## Grupos e partidos 

Os grupos abaixo foram definidos por um método computacional que descobre comunidades, e estão representado pelas cores do grafo. O grupo de valor 1 corresponde ao grupo com maior número de deputados, o 2 ao segundo maior e assim por diante. Na tabela abaixo exibe o tamanho do grupo de acordo com os partidos.

```{r}
DT::datatable(table %>% 
                group_by(grupo, partido) %>% 
                summarise(num_deputados = n()) %>% 
                arrange(-num_deputados)) 
```


## Deputados

Para o levantamento da tabela, foram escolhidos os 5 primeiros grupos e partidos que possuem maior número de deputados:

```{r}
table %>% filter(
  (grupo == 2 & partido == "PT") |
    (grupo == 4 & partido == "PSB") |
    (grupo == 1 & partido == "PP") |
    (grupo == 6 & partido == "PSL") |
    (grupo == 1 & partido == "PT")) %>% 
  select(-index) %>% 
  DT::datatable()
```

### Relações pareadas

A tabela abaixo mostra as relações de autorias com todas as combinações de pares possíveis. Por exemplo, sejam os deputados x, y e z autores de uma proposição, haverão três linhas na tabela contendo as relações x e y, y e z, z e y. 

```{r}
DT::datatable(
  edges %>% 
    select(deputado_a = source, deputado_b = target, num_autorias_conjuntas = value) %>% 
    arrange(-num_autorias_conjuntas))
```

O partido mais predominante nos maiores clusters são PP, 